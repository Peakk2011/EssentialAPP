<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EssentialAPP settings</title>
    <link rel="stylesheet" href="../css/defaultComp.css">
    <link rel="stylesheet" href="./Settings_Config/Settings.css">
    <link href="https://api.fontshare.com/v2/css?f[]=general-sans@1,2&f[]=satoshi@1,2&display=swap" rel="stylesheet">
    <script>
        // Runtime detection
        (function () {
            const runtime = window.electronAPI ? 'electron' : 'web';
            document.documentElement.setAttribute('data-runtime', runtime);
        })();
    </script>
</head>

<body>

    <div class="DragAppRegion"></div>

    <nav>
        <div class="NavContent" style="margin-top: 1rem;" id="ThemeContentToggle">
            <div class="NavContentText">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="var(--theme-accent)">
                    <path
                        d="M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 32.5-156t88-127Q256-817 330-848.5T488-880q80 0 151 27.5t124.5 76q53.5 48.5 85 115T880-518q0 115-70 176.5T640-280h-74q-9 0-12.5 5t-3.5 11q0 12 15 34.5t15 51.5q0 50-27.5 74T480-80Zm0-400Zm-220 40q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Zm120-160q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Zm200 0q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Zm120 160q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17ZM480-160q9 0 14.5-5t5.5-13q0-14-15-33t-15-57q0-42 29-67t71-25h70q66 0 113-38.5T800-518q0-121-92.5-201.5T488-800q-136 0-232 93t-96 227q0 133 93.5 226.5T480-160Z" />
                </svg>
                <div class="NavContenttext_Title">
                    <h1>Theme</h1>
                    <p>Color accent, Color preview</p>
                </div>
            </div>
        </div>
        <div class="NavContent" id="AppearanceContentToggle">
            <div class="NavContentText">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="var(--theme-accent)">
                    <path
                        d="M80 0v-160h800V0H80Zm140-280 210-560h100l210 560h-96l-50-144H368l-52 144h-96Zm176-224h168l-82-232h-4l-82 232Z" />
                </svg>
                <div class="NavContenttext_Title">
                    <h1>Appearance</h1>
                    <p>Adjust dark & light mode</p>
                </div>
            </div>
        </div>
        <div class="NavContent" id="TitlebarContentToggle">
            <div class="NavContentText">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="var(--theme-accent)">
                    <path
                        d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0-33-23.5-56.5T760-120H200Zm0-520h560v-120H200v120Zm560 80H200v360h560v-360Zm-560-80v80-80Zm0 0v-120 120Zm0 80v360-360Z" />
                </svg>
                <div class="NavContenttext_Title">
                    <h1>Titlebar</h1>
                    <p>Adjust top bar scale</p>
                </div>
            </div>
        </div>
        <div class="NavContent" id="AlwaysOnTopsContentToggle">
            <div class="NavContentText">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="var(--theme-accent)">
                    <path
                        d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z" />
                </svg>
                <div class="NavContenttext_Title">
                    <h1>Always on tops</h1>
                    <p>Custom style, interface, etc</p>
                </div>
            </div>
        </div>
        <div class="NavContent" id="NavigationContentToggle">
            <div class="NavContentText">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="var(--theme-accent)">
                    <path
                        d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm280-80h280v-560H480v560Z" />
                </svg>
                <div class="NavContenttext_Title">
                    <h1>Navigation</h1>
                    <p>Adjust other options for navigation interface</p>
                </div>
            </div>
        </div>
    </nav>

    <div class="ContentUpper_Theme" id="ContentUpper_Theme">
        <div class="ContentUpper_Content">
            <div class="ClickableBackButton" id="BackBtnContentTheme">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="var(--theme-fg)" class="BackButton" id="BackButton">
                    <path d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z" />
                </svg>
            </div>
            <div class="ContentUpperColorPicker">
                <h1>Theme</h1>
                <div class="picker-container" id="picker"></div>
                <div id="ResetColor">Reset Default Color</div>
            </div>
        </div>
    </div>

    <div class="ContentUpper_Appearance" id="ContentUpper_Appearance">
        <div class="ContentUpper_Content">
            <div class="ClickableBackButton" id="BackBtnContentAppearance">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="var(--theme-fg)" class="BackButton" id="BackButton">
                    <path d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z" />
                </svg>
            </div>

            <h1 id="TitleName">Appearance</h1>

            <div class="AppearanceSettings">

                <div class="DarkMode" id="darkBtn">
                    <svg width="184" height="164" viewBox="0 0 184 164" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="1" y="1" width="182" height="162" rx="17" fill="#0F0F0F" />
                        <rect x="1" y="1" width="182" height="162" rx="17" stroke="#313131" stroke-width="2" />
                        <mask id="path-2-inside-1_887_21" fill="white">
                            <path
                                d="M38 49C38 42.3726 43.3726 37 50 37H182V150C182 156.627 176.627 162 170 162H38V49Z" />
                        </mask>
                        <path d="M38 49C38 42.3726 43.3726 37 50 37H182V150C182 156.627 176.627 162 170 162H38V49Z"
                            fill="#0B0B0B" />
                        <path
                            d="M36 49C36 41.268 42.268 35 50 35H182V39H50C44.4772 39 40 43.4772 40 49H36ZM182 162H38H182ZM36 162V49C36 41.268 42.268 35 50 35V39C44.4772 39 40 43.4772 40 49V162H36ZM182 37V162V37Z"
                            fill="#313131" mask="url(#path-2-inside-1_887_21)" />
                        <path
                            d="M64.46 77V63.4H69.3C72.48 63.4 74.44 65.06 74.44 67.78C74.44 70.56 72.44 72.18 69.34 72.18H66.7V77H64.46ZM69.28 65.2H66.7V70.38H69.22C71.1 70.38 72.14 69.38 72.14 67.8C72.14 66.22 71.08 65.2 69.28 65.2ZM76.107 77V66.34H78.247V67.92C78.947 66.64 80.047 66.06 81.287 66.06C81.707 66.06 82.107 66.16 82.307 66.34V68.22C81.987 68.12 81.607 68.08 81.167 68.08C79.127 68.08 78.247 69.32 78.247 71.18V77H76.107ZM92.628 73.52C92.048 76 90.208 77.26 87.708 77.26C84.568 77.26 82.648 75.16 82.648 71.68C82.648 68.06 84.568 66.06 87.608 66.06C90.688 66.06 92.548 68.14 92.548 71.56V72.08H84.828C84.948 74.26 85.968 75.48 87.708 75.48C89.068 75.48 90.028 74.84 90.388 73.52H92.628ZM87.608 67.84C86.068 67.84 85.148 68.82 84.888 70.62H90.328C90.068 68.82 89.128 67.84 87.608 67.84ZM96.757 77L92.837 66.34H95.137L97.877 74.26L98.137 75.28L98.397 74.26L101.117 66.34H103.297L99.377 77H96.757ZM104.282 65.02V62.6H106.422V65.02H104.282ZM104.282 77V66.34H106.422V77H104.282ZM118.069 73.52C117.489 76 115.649 77.26 113.149 77.26C110.009 77.26 108.089 75.16 108.089 71.68C108.089 68.06 110.009 66.06 113.049 66.06C116.129 66.06 117.989 68.14 117.989 71.56V72.08H110.269C110.389 74.26 111.409 75.48 113.149 75.48C114.509 75.48 115.469 74.84 115.829 73.52H118.069ZM113.049 67.84C111.509 67.84 110.589 68.82 110.329 70.62H115.769C115.509 68.82 114.569 67.84 113.049 67.84ZM128.896 77L126.776 69.42L126.556 68.22L126.316 69.42L124.196 77H121.556L118.476 66.34H120.776L122.736 74.26L122.996 75.46L123.276 74.26L125.516 66.34H127.776L130.036 74.26L130.276 75.4L130.516 74.26L132.476 66.34H134.676L131.576 77H128.896Z"
                            fill="white" />
                    </svg>
                    <div class="ColorAccentpreviewTheme">
                        <h4>EssentialAPP</h4>
                    </div>
                    <p>Dark mode</p>
                </div>

                <div class="LightMode" id="lightBtn">
                    <svg width="184" height="164" viewBox="0 0 184 164" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="1" y="1" width="182" height="162" rx="17" fill="#F9FAFB" />
                        <rect x="1" y="1" width="182" height="162" rx="17" stroke="#CACACA" stroke-width="2" />
                        <mask id="path-2-inside-1_886_10" fill="white">
                            <path
                                d="M38 49C38 42.3726 43.3726 37 50 37H182V150C182 156.627 176.627 162 170 162H38V49Z" />
                        </mask>
                        <path d="M38 49C38 42.3726 43.3726 37 50 37H182V150C182 156.627 176.627 162 170 162H38V49Z"
                            fill="#FAFAFA" />
                        <path
                            d="M36 49C36 41.268 42.268 35 50 35H182V39H50C44.4772 39 40 43.4772 40 49H36ZM182 162H38H182ZM36 162V49C36 41.268 42.268 35 50 35V39C44.4772 39 40 43.4772 40 49V162H36ZM182 37V162V37Z"
                            fill="#CACACA" mask="url(#path-2-inside-1_886_10)" />
                        <path
                            d="M64.46 77V63.4H69.3C72.48 63.4 74.44 65.06 74.44 67.78C74.44 70.56 72.44 72.18 69.34 72.18H66.7V77H64.46ZM69.28 65.2H66.7V70.38H69.22C71.1 70.38 72.14 69.38 72.14 67.8C72.14 66.22 71.08 65.2 69.28 65.2ZM76.107 77V66.34H78.247V67.92C78.947 66.64 80.047 66.06 81.287 66.06C81.707 66.06 82.107 66.16 82.307 66.34V68.22C81.987 68.12 81.607 68.08 81.167 68.08C79.127 68.08 78.247 69.32 78.247 71.18V77H76.107ZM92.628 73.52C92.048 76 90.208 77.26 87.708 77.26C84.568 77.26 82.648 75.16 82.648 71.68C82.648 68.06 84.568 66.06 87.608 66.06C90.688 66.06 92.548 68.14 92.548 71.56V72.08H84.828C84.948 74.26 85.968 75.48 87.708 75.48C89.068 75.48 90.028 74.84 90.388 73.52H92.628ZM87.608 67.84C86.068 67.84 85.148 68.82 84.888 70.62H90.328C90.068 68.82 89.128 67.84 87.608 67.84ZM96.757 77L92.837 66.34H95.137L97.877 74.26L98.137 75.28L98.397 74.26L101.117 66.34H103.297L99.377 77H96.757ZM104.282 65.02V62.6H106.422V65.02H104.282ZM104.282 77V66.34H106.422V77H104.282ZM118.069 73.52C117.489 76 115.649 77.26 113.149 77.26C110.009 77.26 108.089 75.16 108.089 71.68C108.089 68.06 110.009 66.06 113.049 66.06C116.129 66.06 117.989 68.14 117.989 71.56V72.08H110.269C110.389 74.26 111.409 75.48 113.149 75.48C114.509 75.48 115.469 74.84 115.829 73.52H118.069ZM113.049 67.84C111.509 67.84 110.589 68.82 110.329 70.62H115.769C115.509 68.82 114.569 67.84 113.049 67.84ZM128.896 77L126.776 69.42L126.556 68.22L126.316 69.42L124.196 77H121.556L118.476 66.34H120.776L122.736 74.26L122.996 75.46L123.276 74.26L125.516 66.34H127.776L130.036 74.26L130.276 75.4L130.516 74.26L132.476 66.34H134.676L131.576 77H128.896Z"
                            fill="black" />
                    </svg>
                    <div class="ColorAccentpreviewTheme">
                        <h4>EssentialAPP</h4>
                    </div>
                    <p>Light mode</p>
                </div>

            </div>

        </div>
    </div>

    <div class="ContentUpper_Titlebar" id="ContentUpper_Titlebar">
        <div class="ContentUpper_Content">
            <div class="ClickableBackButton" id="BackBtnContentTitlebar">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="var(--theme-fg)" class="BackButton" id="BackButton">
                    <path d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z" />
                </svg>
            </div>

        </div>
    </div>

    <div class="ContentUpper_AlwaysOnTops" id="ContentUpper_AlwaysOnTops">
        <div class="ContentUpper_Content">
            <div class="ClickableBackButton" id="BackBtnContentAlwaysOnTops">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="var(--theme-fg)" class="BackButton" id="BackButton">
                    <path d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z" />
                </svg>
            </div>

        </div>
    </div>

    <div class="ContentUpper_Navigation" id="ContentUpper_Navigation">
        <div class="ContentUpper_Content">
            <div class="ClickableBackButton" id="BackBtnContentNavigation">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                    fill="var(--theme-fg)" class="BackButton" id="BackButton">
                    <path d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z" />
                </svg>
            </div>

        </div>
    </div>

    <script src="./Settings_Config/Settings.js" type="module"></script>
    <script type="module">
        import { initTheme, setTheme } from './Settings_Config/theme.js';

        const current = initTheme()
        initTheme()
        document.getElementById('lightBtn').onclick = () => {
            setTheme('light');
            if (window.electronAPI?.sendThemeChange) {
                window.electronAPI.sendThemeChange('light');
            } else {
                window.dispatchEvent(new CustomEvent('theme-change', { detail: 'light' }));
            }
        }
        document.getElementById('darkBtn').onclick = () => {
            setTheme('dark');
            if (window.electronAPI?.sendThemeChange) {
                window.electronAPI.sendThemeChange('dark');
            } else {
                window.dispatchEvent(new CustomEvent('theme-change', { detail: 'dark' }));
            }
        }

        if (window.runtimeInfo?.os) {
            document.documentElement.setAttribute('data-os', window.runtimeInfo.os);
            document.body.classList.add(`os-${window.runtimeInfo.os === 'darwin' ? 'mac' : window.runtimeInfo.os === 'win32' ? 'windows' : 'linux'}`);
        }
    </script>
</body>

</html>